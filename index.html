<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gardener's Measurement Calculator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="version-header">V1.09</div>
            <h1>Gardener's Measurement Calculator</h1>
            <p class="subtitle">Calculate accurate quantities for all your gardening needs</p>
            <div class="beta-warning">
                <p>This is a beta version. Please double-check all calculations against product instructions.</p>
            </div>
        </header>

        <!-- Tab Buttons - Make sure data-tab attributes match panel IDs -->
        <div class="tabs">
            <button class="tab-button active" data-tab="product">Product Dosage</button>
            <button class="tab-button" data-tab="area">Area Treatments</button>
            <button class="tab-button" data-tab="water">Water Treatments</button>
            <button class="tab-button" data-tab="conversion">Conversion Guide</button>
        </div>

        <div class="tab-panels">
            <!-- Product Calculator Tab -->
            <div id="product-panel" class="tab-panel active">
                <h2>Product Calculator</h2>
                <p>Calculate the correct amount of product to use for your plants</p>

                <!-- Step 1: Product Selection -->
                <div class="step-section product-selection">
                    <div class="step-header">
                        <div class="step-number">1</div>
                        <div class="step-title">Select Your Product</div>
                    </div>
                    
                    <div class="form-group">
                        <label for="product-type">Product Type:</label>
                        <select id="product-type" class="prominent-select">
                            <option value="liquid_fertilizer">Liquid Fertilizer</option>
                            <option value="granular_fertilizer">Granular Fertilizer</option>
                            <option value="lawn_fertilizer">Lawn Fertilizer</option>
                            <option value="weed_killer">Weed Killer</option>
                            <option value="pond_treatment">Pond Treatment</option>
                            <option value="custom">Custom Product</option>
                        </select>
                        <div id="product-type-hint" class="hint"></div>
                    </div>

                    <div id="common-product-section" class="form-group">
                        <label for="product-name-select">Select Common Product:</label>
                        <select id="product-name-select">
                            <option value="">-- Select a product --</option>
                            <!-- Options will be populated by JavaScript -->
                        </select>
                    </div>

                    <div class="custom-product-toggle">
                        <input type="checkbox" id="use-custom-product">
                        <label for="use-custom-product">I want to enter my own product details</label>
                    </div>

                    <div id="custom-product-section" class="custom-product-section hidden">
                        <div class="form-group">
                            <label for="product-name">Custom Product Name:</label>
                            <input type="text" id="product-name" placeholder="e.g., Miracle-Gro All Purpose">
                        </div>

                        <div class="form-group">
                            <label for="custom-instructions">Product Instructions (optional):</label>
                            <textarea id="custom-instructions" rows="2" placeholder="e.g., Add 5ml to 1 litre of water"></textarea>
                        </div>
                    </div>

                    <div id="product-instructions" class="instructions-panel hidden">
                        <h3>Product Instructions</h3>
                        <p id="instructions-text"></p>
                    </div>

                    <button id="my-presets-btn" class="secondary-button my-presets-btn">My Saved Presets</button>

                    <div id="presets-panel" class="search-panel hidden">
                        <div class="search-header">
                            <h3>My Saved Presets</h3>
                        </div>
                        <div id="presets-list" class="search-results"></div>
                    </div>
                </div>

                <!-- Step 2: Measurement Requirements -->
                <div class="step-section calculation-requirements">
                    <div class="step-header">
                        <div class="step-number">2</div>
                        <div class="step-title">Measurement Requirements</div>
                    </div>

                    <div class="form-group">
                        <label>Measurement Type:</label>
                        <div class="radio-group">
                            <label>
                                <input type="radio" name="measurement-type" value="weight" checked>
                                Weight (g, kg, oz)
                            </label>
                            <label>
                                <input type="radio" name="measurement-type" value="volume">
                                Volume (ml, l, fl oz)
                            </label>
                            <label>
                                <input type="radio" name="measurement-type" value="cap">
                                Cap Measurement
                            </label>
                        </div>
                    </div>

                    <div id="cap-size-group" class="form-group hidden">
                        <label for="cap-size">Cap Size (ml):</label>
                        <input type="number" id="cap-size" value="10" min="1" step="0.1">
                        <div class="hint">Standard cap is usually 10ml, but check your product</div>
                    </div>

                    <div class="form-group">
                        <label>Does your product have a scoop measure?</label>
                        <div class="radio-group">
                            <label>
                                <input type="radio" name="has-scoop" value="yes">
                                Yes
                            </label>
                            <label>
                                <input type="radio" name="has-scoop" value="no" checked>
                                No
                            </label>
                        </div>
                    </div>

                    <div id="scoop-size-group" class="form-group hidden">
                        <label for="scoop-size">Scoop Size:</label>
                        <div class="input-group">
                            <input type="number" id="scoop-size" value="5" min="0.1" step="0.1">
                            <select id="scoop-unit">
                                <option value="g">g</option>
                                <option value="ml">ml</option>
                            </select>
                        </div>
                        <div class="hint">Check your product packaging for scoop size</div>
                    </div>

                    <div class="form-group">
                        <label>Calculation Mode:</label>
                        <div class="radio-group">
                            <label>
                                <input type="radio" name="calculation-mode" value="product_to_water" checked>
                                Product to Water
                            </label>
                            <label>
                                <input type="radio" name="calculation-mode" value="water_to_product">
                                Water to Product
                            </label>
                            <label>
                                <input type="radio" name="calculation-mode" value="ratio_based">
                                Ratio Based
                            </label>
                        </div>
                    </div>

                    <!-- Product to Water Panel -->
                    <div id="product_to_water-panel" class="calculation-mode-panel">
                        <div class="form-group">
                            <label for="product-amount">Product Amount:</label>
                            <div class="input-group">
                                <input type="number" id="product-amount" value="10" min="0.1" step="0.1">
                                <select id="product-unit">
                                    <option value="g">g</option>
                                    <option value="kg">kg</option>
                                    <option value="ml">ml</option>
                                    <option value="l">l</option>
                                    <option value="oz">oz</option>
                                    <option value="lb">lb</option>
                                    <option value="tsp">tsp</option>
                                    <option value="tbsp">tbsp</option>
                                    <option value="cap">cap</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="water-amount">Water Amount:</label>
                            <div class="input-group">
                                <input type="number" id="water-amount" value="1" min="0.1" step="0.1">
                                <select id="water-unit">
                                    <option value="l">litre</option>
                                    <option value="ml">ml</option>
                                    <option value="gal_uk">gallon (UK)</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Water to Product Panel -->
                    <div id="water_to_product-panel" class="calculation-mode-panel hidden">
                        <div class="form-group">
                            <label for="water-amount-2">Water Amount:</label>
                            <div class="input-group">
                                <input type="number" id="water-amount-2" value="1" min="0.1" step="0.1">
                                <select id="water-unit-2">
                                    <option value="l">litre</option>
                                    <option value="ml">ml</option>
                                    <option value="gal_uk">gallon (UK)</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="ratio">Ratio (<span id="ratio-label">g per litre</span>):</label>
                            <input type="number" id="ratio" value="10" min="0.1" step="0.1">
                        </div>
                    </div>

                    <!-- Ratio Based Panel -->
                    <div id="ratio_based-panel" class="calculation-mode-panel hidden">
                        <div class="form-group">
                            <label for="ratio-2">Ratio (<span id="ratio-label-2">g per litre</span>):</label>
                            <input type="number" id="ratio-2" value="10" min="0.1" step="0.1">
                        </div>

                        <div class="form-group">
                            <label for="target-amount">Target Water Amount:</label>
                            <div class="input-group">
                                <input type="number" id="target-amount" value="1" min="0.1" step="0.1">
                                <select id="target-unit">
                                    <option value="l">litre</option>
                                    <option value="ml">ml</option>
                                    <option value="gal_uk">gallon (UK)</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button id="calculate-btn" class="primary-button">Calculate</button>
                        <button id="save-preset-btn" class="secondary-button">Save as Preset</button>
                    </div>
                </div>

                <!-- Step 3: Results -->
                <div class="step-section results-section">
                    <div class="step-header">
                        <div class="step-number">3</div>
                        <div class="step-title">Results</div>
                    </div>

                    <div class="results">
                        <div class="result-card">
                            <h3>Metric Result</h3>
                            <p id="metric-result">-</p>
                        </div>

                        <div class="result-card">
                            <h3>Imperial Result</h3>
                            <p id="imperial-result">-</p>
                        </div>

                        <div id="cap-result-card" class="result-card hidden">
                            <h3>Cap Measurement</h3>
                            <p id="cap-result">-</p>
                        </div>

                        <div id="scoop-result-card" class="result-card hidden">
                            <h3>Scoop Measurement</h3>
                            <p id="scoop-result">-</p>
                        </div>

                        <div class="result-card">
                            <h3>Alternative Measurement</h3>
                            <p id="alternative-result">-</p>
                        </div>

                        <div id="watering-can-section" class="result-card hidden">
                            <h3 id="watering-can-title">For your watering can:</h3>
                            <p id="watering-can-result">-</p>
                            <p id="watering-can-info" class="hint">-</p>
                        </div>
                    </div>
                </div>

                <div class="debug-section">
                    <div id="debug-trigger" class="debug-trigger">
                        <span>Debug Info</span>
                        <span class="icon">▼</span>
                    </div>
                    <div id="debug-content" class="debug-content hidden">
                        <pre id="debug-info"></pre>
                        <button id="copy-debug-btn" class="secondary-button">Copy Debug Info</button>
                    </div>
                </div>
            </div>

            <!-- Area Calculator Tab -->
            <div id="area-panel" class="tab-panel">
                <!-- Similar step-based structure would be implemented here -->
                <h2>Area Calculator</h2>
                <p>Calculate how much product to use based on area.</p>
                
                <!-- Content from the original area panel would go here, 
                     restructured into the 3-step format -->
            </div>

            <!-- Water Calculator Tab -->
            <div id="water-panel" class="tab-panel">
                <!-- Similar step-based structure would be implemented here -->
                <h2>Water Calculator</h2>
                <p>Calculate how much product to use based on water volume.</p>
                
                <!-- Content from the original water panel would go here, 
                     restructured into the 3-step format -->
            </div>

            <!-- Conversion Tables Tab -->
            <div id="conversion-panel" class="tab-panel">
                <h2>Conversion Tables</h2>
                <p>Common gardening measurement conversions.</p>
                
                <!-- Conversion tables content remains the same -->
                <div class="accordion">
                    <!-- Accordion content from original file -->
                </div>
            </div>
        </div>
        
        <footer>
            <p>&copy; 2025 Gardener's Measurement Calculator. Creator Alan Ranger - All rights reserved.</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>
